(this["webpackJsonpentity-viewer"]=this["webpackJsonpentity-viewer"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(3),l=n.n(o),r=(n(10),n(2)),i=function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return e.match(t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=/\.(gltf|glb)$/gi,a=t?"#applePayButtonType=buy&checkoutTitle=Biplane%20Toy&checkoutSubtitle=Rustic%20finish%20with%20rotating%20propeller&price=$15":"";return e.replace(n,".usdz".concat(a))},s=function(e){return e=(e=e.replace("github.com","raw.githubusercontent.com")).replace("/blob/","/")},m=function(e){var t=c.a.createElement("div",{className:"form-group mt-2"},c.a.createElement("input",{type:"url",className:"form-control",id:"usdzURL",placeholder:"Enter the link to the usdz file",onChange:e.onUsdzFieldChange}));return c.a.createElement("form",{onSubmit:e.onSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"modelURL"},"Model URL"),c.a.createElement("input",{type:"url",value:"null"===e.url?"":e.url,className:"form-control",id:"modelURL","aria-describedby":"modelURLHint",placeholder:"Enter the link to the glb or glTF file",onChange:e.onChange}),c.a.createElement("small",{id:"modelURLHint",className:"form-text text-muted"},"Upload your model file to github project and copy the link to the file.")),c.a.createElement("div",{className:"form-check"},c.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"usdzCheckbox",value:"usdzCheckbox",onChange:e.onUsdzCheckboxChange}),c.a.createElement("label",{className:"form-check-label",for:"usdzCheckbox"},"Specify a USDZ location")),e.enableUsdzField&&t,c.a.createElement("button",{type:"submit",className:"btn btn-warning mt-3",disabled:!i(e.url)},"Submit"))},d=(n(14),function(e){var t=Object(a.useRef)(),n=Object(a.useState)(!1),o=Object(r.a)(n,2),l=o[0],u=o[1];Object(a.useEffect)((function(){void 0!==t.current&&t.current.addEventListener("error",(function(e){u(!0)}))}));var s=c.a.createElement("div",{className:"col-12"},l&&c.a.createElement("div",{class:"alert alert-danger",role:"alert"},"Only support glb/glTF files"),c.a.createElement("div",{className:"model-viewer-box"},c.a.createElement("model-viewer",{ref:t,class:"model-viewer",src:"".concat(e.url),"auto-rotate":!0,"camera-controls":!0,ar:!0,"ar-scale":"auto",alt:"model","ios-src":"".concat(e.usdz)})));return c.a.createElement("div",{className:"row mt-2"},i(e.url)&&s)});n(12);var b=function(){var e=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("model");null!==e&&(e=s(e));var t=Object(a.useState)("".concat(e)),n=Object(r.a)(t,2),o=n[0],l=n[1],b=Object(a.useState)("".concat(e)),f=Object(r.a)(b,2),h=f[0],g=f[1],p=c.a.useState("".concat(null===e?"null":u(e))),v=Object(r.a)(p,2),E=v[0],w=v[1],k=Object(a.useState)("".concat(null===e?"null":u(e))),y=Object(r.a)(k,2),z=y[0],j=y[1],C=Object(a.useState)(!1),U=Object(r.a)(C,2),x=U[0],N=U[1];return c.a.createElement("div",{className:"App container mt-2"},c.a.createElement(m,{onChange:function(e){l("".concat(e.target.value))},url:o,onSubmit:function(e){var t=s(o);g(t),x&&i(E)?j("".concat(s(E))):j("".concat(u(t))),window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?model=").concat(t),e.preventDefault()},onUsdzCheckboxChange:function(e){N(e.target.checked)},enableUsdzField:x,onUsdzFieldChange:function(e){w("".concat(e.target.value))}}),c.a.createElement(d,{url:h,usdz:z}))},f=function(){return c.a.createElement("div",{className:"container d-flex justify-content-center align-items-center "},"\xa9 ",(new Date).getFullYear()," Ken-Jung Lee")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(13);l.a.render(c.a.createElement(b,null),document.getElementById("root")),l.a.render(c.a.createElement(f,null),document.getElementById("footer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,n){e.exports=n(15)}},[[5,1,2]]]);
//# sourceMappingURL=main.aad049e8.chunk.js.map